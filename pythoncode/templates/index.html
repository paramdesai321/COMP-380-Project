<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Chat App</title>
    <style>
        /* CSS styles remain unchanged */
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.js"></script>
</head>

<body>
    <div id="container">
        <h2>Chat App</h2>
        <div id="messages"></div>
    </div>

    <script>
        $(document).ready(function () {
            var socket = io.connect("http://localhost");

            // Function to prompt for username and message
            function getUsernameAndMessage() {
                var username = prompt("Enter your username:");
                var room = prompt("Enter the room number: ");
                if (username && room) {
                    return { username: username.trim(), room: room.trim() };
                } else {
                    return null; // Return null if either username or message is empty
                }
            }

            // Function to prompt for room name
            function getRoom() {
                var room = prompt("Enter the room name:");
                return room ? room.trim() : null; // Return room name if provided, otherwise return null
            }

            // Function to prompt for message in a specific room
            function getMessageInRoom(room) {
                var message = prompt("Enter your message in room '" + room + "':");
                return message ? message.trim() : null; // Return message if provided, otherwise return null
            }

            // Prompt for username and message
            var userMessage = getUsernameAndMessage();
            if (userMessage) {
                var room = getRoom();
                if (room) {
                    var messageInRoom = getMessageInRoom(room);
                    if (messageInRoom) {
                        socket.emit('chatMessage', { username: userMessage.username, room: room, message: messageInRoom });
                    } else {
                        alert('Message cannot be empty.');
                    }
                } else {
                    alert('Room name cannot be empty.');
                }
            } else {
                alert('Username and message cannot be empty.');
            }
        });
    </script>
</body>

</html>
